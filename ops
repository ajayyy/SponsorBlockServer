{"version":1,"ops":[{"type":3,"author":{"id":"3708d7e99c169a5d462136cbf424bcd078c353be"},"timestamp":1581023883,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzExNTEwMg==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583115102"},"message":"Are there any specific reasons to do this to usernames?\n\nOn Thu, Feb 6, 2020, 3:51 PM Joe Dowd \u003cnotifications@github.com\u003e wrote:\n\n\u003e The API doesn't currently restrict which characters a username can contain.\n\u003e For example userId\n\u003e a5681b9905d953ff3bc6dfebda7c1fb1072b5c18e1fd3e201c33f107c9fe73b9\n\u003e The username should be restricted to a set of characters.\n\u003e\n\u003e Also it looks like the videoId has no constraints either (and is also a\n\u003e non-hashed text input) - this one should be easier to define as it's\n\u003e already defined by youtube.\n\u003e\n\u003e —\n\u003e You are receiving this because you are subscribed to this thread.\n\u003e Reply to this email directly, view it on GitHub\n\u003e \u003chttps://github.com/ajayyy/SponsorBlockServer/issues/58?email_source=notifications\u0026email_token=ADAZV4BNOPA6V6JSX3PZABLRBRZ3VA5CNFSM4KRDYSJ2YY3PNVWWK3TUL52HS4DFUVEXG43VMWVGG33NNVSW45C7NFSM4ILUF6FA\u003e,\n\u003e or unsubscribe\n\u003e \u003chttps://github.com/notifications/unsubscribe-auth/ADAZV4H7VPVRCJTFYXQDI6TRBRZ3VANCNFSM4KRDYSJQ\u003e\n\u003e .\n\u003e","files":null},{"type":3,"author":{"id":"6e1c4dc6752162bebe2c7f25376cf1fcc5a8aca8"},"timestamp":1581024258,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzExNzU2OA==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583117568"},"message":"There are times where you display usernames, such as on the stats page - which could lead to XSS issues.","files":null},{"type":3,"author":{"id":"3708d7e99c169a5d462136cbf424bcd078c353be"},"timestamp":1581024383,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzExODQzOA==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583118438"},"message":"Because I use innerText instead of innerHTML, it is not needed. If I did\nclean them out, then I'd have to put them back on the website.\n\nOn Thu, Feb 6, 2020, 4:24 PM Joe Dowd \u003cnotifications@github.com\u003e wrote:\n\n\u003e There are times where you display usernames, such as on the stats page -\n\u003e which could lead to XSS issues.\n\u003e\n\u003e —\n\u003e You are receiving this because you commented.\n\u003e Reply to this email directly, view it on GitHub\n\u003e \u003chttps://github.com/ajayyy/SponsorBlockServer/issues/58?email_source=notifications\u0026email_token=ADAZV4A45VEXX52BIZ4JSXTRBR5YFA5CNFSM4KRDYSJ2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOELA2WAA#issuecomment-583117568\u003e,\n\u003e or unsubscribe\n\u003e \u003chttps://github.com/notifications/unsubscribe-auth/ADAZV4EYWY35T56UFI5U4B3RBR5YFANCNFSM4KRDYSJQ\u003e\n\u003e .\n\u003e","files":null},{"type":3,"author":{"id":"6e1c4dc6752162bebe2c7f25376cf1fcc5a8aca8"},"timestamp":1581024712,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzEyMDg1Mw==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583120853"},"message":"Protecting against it from the client side isn't good practice - others could use the API too.","files":null},{"type":3,"author":{"id":"6e1c4dc6752162bebe2c7f25376cf1fcc5a8aca8"},"timestamp":1581024961,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzEyMTM4NQ==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583121385"},"message":"Also, the username isn't used in any outgoing requests, so the restriction wouldn't cause an issue for anybody with a legacy username.","files":null},{"type":6,"author":{"id":"6e1c4dc6752162bebe2c7f25376cf1fcc5a8aca8"},"timestamp":1581024961,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdDM0OTY0MDUyOA=="},"target":"b8014865c2b2bacecbff15e8ffe944104ef4772382efe6c37aabc567efa1bd9c","message":"Also, the username isn't used in any outgoing requests, so the restriction wouldn't cause an issue for anybody with a legacy username.\nThough removing the legacy bad-format could be done - as it would remove any issues encountered if you were to migrate to a different database in the future.","files":null},{"type":3,"author":{"id":"3708d7e99c169a5d462136cbf424bcd078c353be"},"timestamp":1581025711,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzEyNzMwNQ==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583127305"},"message":"I feel that forcing anyone using the API to replace the escaped characters after using it could be annoying as well.","files":null},{"type":3,"author":{"id":"6e1c4dc6752162bebe2c7f25376cf1fcc5a8aca8"},"timestamp":1581028382,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzE0MzgzNw==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583143837"},"message":"You don't need to force people using the api to replace escaped characters - I was thinking more whitelisting certain characters - but either way is good.","files":null},{"type":3,"author":{"id":"3708d7e99c169a5d462136cbf424bcd078c353be"},"timestamp":1581037722,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDU4MzE4NzExNQ==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-583187115"},"message":"I think is important to allow any characters be used in the display name, so they would have to be escaped.","files":null},{"type":3,"author":{"id":"72fabe0f953ee632a3456b27eb414d1ee6984000"},"timestamp":1602184904,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDcwNTc3MjQ0OQ==","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/58#issuecomment-705772449"},"message":"Dont escape data for storage, thats why a prepare statement is used in the SQL query.\nWe dont know where the data will be used so it will be transfered and the client has to make sure its handled correctly for the intended purpose.\n\nIf someone is using it on the web he has to escape it.\nUsing it with a Android or iOS app it has not to be HTML escaped.","files":null},{"type":6,"author":{"id":"72fabe0f953ee632a3456b27eb414d1ee6984000"},"timestamp":1602184904,"metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6NDA1NDQ2NzEw"},"target":"0fe3706d7c1db5054f9ab13fdc1f815b43299b68143f6c5041f5c8f30c1fb3a8","message":"Dont escape data for storage, thats why a prepare statement is used in the SQL query.\nWe dont know where the data will be used so it will be transfered and the client has to make sure its handled correct for the intended purpose.\n\nIf someone is using it on the web he has to escape it.\nUsing it with a Android or iOS app it has not to be HTML escaped.","files":null}]}