{"version":1,"ops":[{"type":1,"author":{"id":"3d6ef91eab30c10183194b15932851feaf517333"},"timestamp":1566837333,"metadata":{"github-id":"MDU6SXNzdWU0ODUzMjcyOTI=","github-url":"https://github.com/ajayyy/SponsorBlockServer/issues/27","origin":"github"},"title":"Segment types","message":"As discussed earlier, there are multiple segment types besides sponsor spots. This issue tracks the API changes necessary to implement them.\n\nThere are many things that would ideally be changed, but also new features are implementable without those changes. The minimal set of changes is highlighted with **Minimal change**.\n\nAll renamings imply the creation of new API endpoints without removal of old ones methods\n\n# Database\n- Rename table `sponsorTimes` into `segmentTimes`\n- **Minimal change** Add `type` ENUM column with values (to be discussed):\n  - `null` -- type unknown and for backwards compatibility\n  - `\"intro\"` -- for vide intros, usually appear before channel logo (not all channels have this)\n  - `\"sponsor\"` -- for currently tracked sponsors\n  - `\"merch\"` -- channel's custom merch (not an outside sponsor)\n  - `\"social\"` -- We are on Twitter/FaceBook/etc.\n  - `\"buttons\"` -- Comment!/Like!/Subscribe!\n  - `\"patreon\"` -- Only for patreon.com announcements that do not contain \n\nSome of the categories might overlap (`\"sponsor\"` and `\"merch\"`; `\"social\"` and `\"buttons\"` and `\"patreon\"`), but this is intentional and enables finer granularity.\n\n# API\n- **Minimal change** To current `GET /api/postVideoSponsorTimes` add `type` which is a string (one of recognized types).\n- Create `GET /api/videoSegmentTimes` to be used instead of `GET /api/getVideoSponsorTimes`\n- Create `POST /api/videoSegmentTimes` to be used instead of `GET /api/postVideoSponsorTimes`","files":null}]}